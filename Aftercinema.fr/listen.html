<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta property="og:image" content="./assets/logos/logo500x384px.png" />
		<meta property="og:image:type" content="image/png" />
		<meta property="og:image:width" content="500" />
		<meta property="og:image:height" content="394" />
		<link rel="shortcut icon" href="./assets/icon.ico" type="image/x-icon" />
		<title>Écouter Aftercinema</title>
		<style>
			@font-face {
				font-family: "Geist-Regular";
				src: url("./assets/Geist-Regular.otf") format("opentype");
				font-weight: normal;
				font-style: normal;
			}
			body {
				font-family: "Geist-Regular", sans-serif;
				margin: 0;
				padding: 0;
			}
			p {
				margin: 0;
			}
			a {
				color: white;
				text-decoration: none;
			}
			#logoImg {
				width: 200px;
				height: 200px;
			}
			img {
				display: block;
			}
			#link-container {
				position: fixed;
				top: 0;
				left: 50%;
				transform: translateX(-50%);
				max-width: 600px;
				height: 100px;
				width: 100%;
				display: flex;
				justify-content:space-between;
			}
			.link-logo:hover {
				background-color: rgb(202, 202, 202);
			}
			.link-logo-1:hover {
				background-color: rgb(202, 202, 202);
			}
			.link-logo {
				right: 0;
				background-color: rgb(236, 236, 236);
				width: min-content;
				border-radius: 50px;
				padding: 10px;
				margin-right: 30px;
				cursor: pointer;
			}
			.link-logo-1 {
				right: 0;
				background-color: rgb(236, 236, 236);
				width: min-content;
				border-radius: 50px;
				padding: 10px;
				margin-left: 30px;
				cursor: pointer;
			}
			#platforms-container {
				margin-top: 40px;
				display: flex;
				justify-content: center;
			}
			#logo {
				margin-top: 55px;
				display: flex;
				justify-content: center;
			}
			.platform-button {
				background-color: black;
				color: white;
				border-radius: 15px;
				border: 3px solid #000;
				padding: 5px;
				cursor: pointer;
			}
			.platform-button:hover {
				background-color: white;
			}
			.platform-button:hover p {
				color: #000;
			}
			.platform-button:first-child {
				margin-bottom: 20px;
			}
			.logo-in-card {
				border-radius: 10px;
			}
			.card-content {
				display: flex;
				align-items: center;
			}
			#toast {
				display: none;
				margin-right: 10px;
				color: darkseagreen;
			}
			.link-and-toast-container {
				display: flex;
				align-items: center;
			}
			.text-and-platform {
				width: 270px;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			
			@media screen and (max-width: 374px) {
				.text-and-platform {
					width: 240px;
				}
			}
			.popup-content {
				background-color: #fff;
				width: 600px;
				margin: 100px auto;
				padding: 25px;
				border-radius: 5px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
				position: relative;
			}
			@media screen and (max-width: 670px) {
				.popup-content {
					width: 80%;
				}
			}
			.platform-logo-in-card {
				margin-left: 5px;
			}

			.popup {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(0, 0, 0, 0.5);
				z-index: 999;
			}

			.close {
				position: absolute;
				top: 10px;
				right: 10px;
				cursor: pointer;
				font-size: 20px;
			}

			#form-container{
				margin-top: 30px;
				display: flex;
				align-items: center;
			}

			#toast-send-email{
				display: none;
				margin-left: 5px;
				color: darkseagreen;
			}

			input[type=submit]{
				font-family: "Geist-Regular", sans-serif;
				background-color: rgb(236, 236, 236);
				border: none;
				padding: 11px;
				border-radius: 20px;
				text-decoration: none;
				cursor: pointer;
				color: #000;
				margin-left: 5px;
			}

			input[type=email]{
				height: 25px;
				border-radius: 5px;
				font-size: 14px;
				font-family: "Geist-Regular", sans-serif;
				border: 2px black solid;
			}

			input[type=submit]:hover{
				background-color:rgb(202, 202, 202)
			}

			#span-bold{
				font-weight: bold;
			}

		</style>
	</head>
	<body>
		<div id="link-container">
			<div class="link-and-toast-container">
				<div id="open-modal" class="link-logo-1">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="15"
						viewBox="0 0 448 512"
					>
							<path
								d="M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416H416c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"
							/>
						</svg>
					</svg>
				</div>
			</div>
			
			<div class="link-and-toast-container">
				<p id="toast">Lien copié!</p>
				<div class="link-logo" id="link-logo-share">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						height="15"
						width="20"
						viewBox="0 0 448 512"
					>
						<path
							d="M246.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3V320c0 17.7 14.3 32 32 32s32-14.3 32-32V109.3l73.4 73.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-128-128zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64c0 53 43 96 96 96H352c53 0 96-43 96-96V352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V352z"
						/>
					</svg>
				</div>
			</div>
		</div>
		<div id="logo">
			<img
				id="logoImg"
				src="assets/logos/logo500x500px.png"
				alt="Logo du podcast"
			/>
		</div>
		<div id="platforms-container">
			<div>
				<div class="platform-button">
					<a href="https://open.spotify.com/show/2KOkfi3CO92Rn03JK0CvIg" target="_blank">
						<div class="card-content">
							<img
								src="assets/logos/logo500x500px.png"
								class="logo-in-card"
								width="50"
								height="50"
								alt="Logo du podcast"
							/>
							<div class="text-and-platform">
								<p>Aftercinema sur Spotify</p>
								<img
									class="platform-logo-in-card"
									src="assets/platforms/spotify.png"
									width="20"
									height="20"
									alt="Logo Spotify"
								/>
							</div>
						</div>
					</a>
				</div>

				<div class="platform-button">
					<a href="https://deezer.page.link/yxtgraNQ82HEwZkU7" target="_blank">
						<div class="card-content">
							<img
								src="assets/logos/logo500x500px.png"
								class="logo-in-card"
								width="50"
								height="50"
								alt="Logo du podcast"
							/>
							<div class="text-and-platform">
								<p>Aftercinema sur Deezer</p>
								<img
									class="platform-logo-in-card"
									src="assets/platforms/deezer.png"
									width="20"
									height="20"
									alt="Logo Deezer"
								/>
							</div>
						</div>
					</a>
				</div>
			</div>
		</div>

		<div id="popup" class="popup">
			<div class="popup-content">
				<div id="close-popup" class="close">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="20" height="20"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
				</div>
				<p>Hey! Rentre ton email pour recevoir les alertes <span id="span-bold">Aftercinema</span>!</p>
				<form id="form">
					<div id="form-container">
						<div>
							<input type="email" id="email" name="email" required>
							<input type="submit" value="OK">
						</div>
						<p id="toast-send-email">Envoyé!</p>
					</div>
					
				</form>
			</div>
		</div>

		<script>
			document
				.getElementById("link-logo-share")
				.addEventListener("click", () => copyTextToClipboard());
			function copyTextToClipboard() {
				var dummy = document.createElement("input");
				document.body.appendChild(dummy);
				dummy.value = "https://aftercinema.fr/listen";
				dummy.select();
				document.execCommand("copy");
				document.body.removeChild(dummy);
				document.getElementById("toast").style.display = "block";
				var idsetTimeout = setTimeout(function () {
					document.getElementById("toast").style.display = "none";
				}, 5000);
			}

			document.getElementById("open-modal").addEventListener("click", function(event) {
				document.getElementById("popup").style.display = "block"
			})
			document.getElementById("close-popup").addEventListener("click", function(event) {
				document.getElementById("popup").style.display = "none"
			})

			document.getElementById("form").addEventListener("submit", function(event) {
				event.preventDefault();
				
				// Récupérer les données du formulaire
				var formData = new FormData(this);
				console.log(formData)

				document.getElementById("email").value = ""

				document.getElementById("toast-send-email").style.display = "block";
				var idsetTimeout = setTimeout(function () {
					document.getElementById("toast-send-email").style.display = "none";
				}, 4000);
				var idsetTimeout = setTimeout(function () {
					document.getElementById("popup").style.display = "none"
				}, 5000);
				
				// Envoyer les données à l'API via une requête fetch
				// fetch("http://your-fastapi-url/store-email/", {
				// 	method: "POST",
				// 	body: formData
				// })
				// .then(response => response.json())
				// .then(data => {
				// 	// Traiter la réponse de l'API ici
				// 	console.log(data);
				// 	alert("Email sent successfully!");
				// })
				// .catch(error => {
				// 	// Gérer les erreurs ici
				// 	console.error("Error:", error);
				// 	alert("An error occurred. Please try again later.");
				// });
			});
		</script>
	</body>
</html>
